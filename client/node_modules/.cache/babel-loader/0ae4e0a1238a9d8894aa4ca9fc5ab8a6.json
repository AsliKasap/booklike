{"remainingRequest":"/home/aslikasap/Desktop/ders-6-socialmark-uygulamasi/client/node_modules/babel-loader/lib/index.js!/home/aslikasap/Desktop/ders-6-socialmark-uygulamasi/client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/aslikasap/Desktop/ders-6-socialmark-uygulamasi/client/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/aslikasap/Desktop/ders-6-socialmark-uygulamasi/client/src/views/NewBookmark.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/aslikasap/Desktop/ders-6-socialmark-uygulamasi/client/src/views/NewBookmark.vue","mtime":1633804126000},{"path":"/home/aslikasap/Desktop/ders-6-socialmark-uygulamasi/client/node_modules/cache-loader/dist/cjs.js","mtime":1672307289351},{"path":"/home/aslikasap/Desktop/ders-6-socialmark-uygulamasi/client/node_modules/babel-loader/lib/index.js","mtime":1672307289330},{"path":"/home/aslikasap/Desktop/ders-6-socialmark-uygulamasi/client/node_modules/cache-loader/dist/cjs.js","mtime":1672307289351},{"path":"/home/aslikasap/Desktop/ders-6-socialmark-uygulamasi/client/node_modules/vue-loader-v16/dist/index.js","mtime":1672307307531}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNhdGVnb3J5TGlzdDogW10sCiAgICAgIHVzZXJEYXRhOiB7CiAgICAgICAgdGl0bGU6IG51bGwsCiAgICAgICAgdXJsOiBudWxsLAogICAgICAgIGNhdGVnb3J5SWQ6IG51bGwsCiAgICAgICAgZGVzY3JpcHRpb246IG51bGwKICAgICAgfQogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRhcHBBeGlvcy5nZXQoIi9jYXRlZ29yaWVzIikudGhlbihjYXRlZ29yeV9yZXNwb25zZSA9PiB7CiAgICAgIC8vIGNvbnNvbGUubG9nKGNhdGVnb3J5X3Jlc3BvbnNlKTsKICAgICAgdGhpcy5jYXRlZ29yeUxpc3QgPSAoY2F0ZWdvcnlfcmVzcG9uc2UgPT09IG51bGwgfHwgY2F0ZWdvcnlfcmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNhdGVnb3J5X3Jlc3BvbnNlLmRhdGEpIHx8IFtdOwogICAgfSk7CgogICAgLy8gc2V0VGltZW91dCgoKSA9PiB7CiAgICAvLyAgIGNvbnNvbGUubG9nKHRoaXMuJHJlZnMudGl0bGUpOwogICAgLy8gfSwgMTAwKTsKCiAgICAvLyB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAvLyAgIGNvbnNvbGUubG9nKHRoaXMuJHJlZnMudGl0bGUpOwogICAgLy8gfSkKICAgIC8vIGNvbnNvbGUuZGlyKHRoaXMuJHJlZnMudGl0bGUpOwogICAgLy8gdGhpcy4kcmVmcy50aXRsZS5mb2N1cygpOwogIH0sCgogIG1ldGhvZHM6IHsKICAgIG9uU2F2ZSgpIHsKICAgICAgdmFyIF90aGlzJF9nZXRDdXJyZW50VXNlcjsKICAgICAgY29uc3Qgc2F2ZURhdGEgPSB7CiAgICAgICAgLi4udGhpcy51c2VyRGF0YSwKICAgICAgICB1c2VySWQ6IChfdGhpcyRfZ2V0Q3VycmVudFVzZXIgPSB0aGlzLl9nZXRDdXJyZW50VXNlcikgPT09IG51bGwgfHwgX3RoaXMkX2dldEN1cnJlbnRVc2VyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRfZ2V0Q3VycmVudFVzZXIuaWQsCiAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKQogICAgICB9OwogICAgICB0aGlzLiRhcHBBeGlvcy5wb3N0KCIvYm9va21hcmtzIiwgc2F2ZURhdGEpLnRoZW4oc2F2ZV9ib29rbWFya19yZXNwb25zZSA9PiB7CiAgICAgICAgdmFyIF9PYmplY3Qka2V5cywgX3RoaXMkY2F0ZWdvcnlMaXN0OwogICAgICAgIGNvbnNvbGUubG9nKHNhdmVfYm9va21hcmtfcmVzcG9uc2UpOwogICAgICAgIChfT2JqZWN0JGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLnVzZXJEYXRhKSkgPT09IG51bGwgfHwgX09iamVjdCRrZXlzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfT2JqZWN0JGtleXMuZm9yRWFjaChmaWVsZCA9PiB0aGlzLnVzZXJEYXRhW2ZpZWxkXSA9IG51bGwpOwogICAgICAgIGNvbnN0IHNvY2tldERhdGEgPSB7CiAgICAgICAgICAuLi5zYXZlX2Jvb2ttYXJrX3Jlc3BvbnNlLmRhdGEsCiAgICAgICAgICB1c2VyOiB0aGlzLl9nZXRDdXJyZW50VXNlciwKICAgICAgICAgIGNhdGVnb3J5OiAoX3RoaXMkY2F0ZWdvcnlMaXN0ID0gdGhpcy5jYXRlZ29yeUxpc3QpID09PSBudWxsIHx8IF90aGlzJGNhdGVnb3J5TGlzdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkY2F0ZWdvcnlMaXN0LmZpbmQoYyA9PiBjLmlkID09PSBzYXZlRGF0YS5jYXRlZ29yeUlkKQogICAgICAgIH07CiAgICAgICAgdGhpcy4kc29ja2V0LmVtaXQoIk5FV19CT09LTUFSS19FVkVOVCIsIHNvY2tldERhdGEpOwogICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICJIb21lUGFnZSIKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbIl9nZXRDdXJyZW50VXNlciJdKQogIH0KfTs="},{"version":3,"sources":["/home/aslikasap/Desktop/ders-6-socialmark-uygulamasi/client/src/views/NewBookmark.vue"],"names":[],"mappings":"AAiBA,SAAS,UAAS,QAAS,MAAM;AACjC,eAAe;EACb,IAAI,GAAG;IACL,OAAO;MACL,YAAY,EAAE,EAAE;MAChB,QAAQ,EAAE;QACR,KAAK,EAAE,IAAI;QACX,GAAG,EAAE,IAAI;QACT,UAAU,EAAE,IAAI;QAChB,WAAW,EAAE;MACf;IACF,CAAC;EACH,CAAC;EACD,OAAO,GAAG;IACR,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC,IAAI,CAAC,iBAAgB,IAAK;MAC1D;MACA,IAAI,CAAC,YAAW,GAAI,CAAA,iBAAiB,aAAjB,iBAAiB,uBAAjB,iBAAiB,CAAE,IAAG,KAAK,EAAE;IACnD,CAAC,CAAC;;IAEF;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;EACF,CAAC;;EACD,OAAO,EAAE;IACP,MAAM,GAAG;MAAA;MACP,MAAM,QAAO,GAAI;QACf,GAAG,IAAI,CAAC,QAAQ;QAChB,MAAM,2BAAE,IAAI,CAAC,eAAe,0DAApB,sBAAsB,EAAE;QAChC,UAAU,EAAE,IAAI,IAAI;MACtB,CAAC;MACD,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC,IAAI,CAAC,sBAAqB,IAAK;QAAA;QACzE,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC;QACnC,gBAAA,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,iDAA1B,aAA4B,OAAO,CAAC,KAAI,IAAM,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAA,GAAI,IAAK,CAAC;QAC3E,MAAM,UAAS,GAAI;UACjB,GAAG,sBAAsB,CAAC,IAAI;UAC9B,IAAI,EAAE,IAAI,CAAC,eAAe;UAC1B,QAAQ,wBAAE,IAAI,CAAC,YAAY,uDAAjB,mBAAmB,IAAI,CAAC,CAAA,IAAK,CAAC,CAAC,EAAC,KAAM,QAAQ,CAAC,UAAU;QACrE,CAAC;QACD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,oBAAoB,EAAE,UAAU,CAAC;QACnD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC;UAAE,IAAI,EAAE;QAAW,CAAC,CAAC;MACzC,CAAC,CAAC;IACJ;EACF,CAAC;EACD,QAAQ,EAAE;IACR,GAAG,UAAU,CAAC,CAAC,iBAAiB,CAAC;EACnC;AACF,CAAC","sourcesContent":["<template>\n  <div class=\"login_register_container\">\n    <h3 class=\"text-2xl text-center mb-3\">Yeni Ekle</h3>\n    <input ref=\"title\" v-model=\"userData.title\" type=\"text\" placeholder=\"Başlık\" class=\"input mb-3\" />\n    <input v-model=\"userData.url\" type=\"text\" placeholder=\"URL\" class=\"input mb-3\" />\n    <select v-model=\"userData.categoryId\" class=\"input mb-3\">\n      <option disabled value=\"\" selected>Kategori</option>\n      <option v-for=\"category in categoryList\" :key=\"category.id\" :value=\"category.id\">{{ category.name }} </option>\n    </select>\n    <textarea v-model=\"userData.description\" placeholder=\"Açıklama\" class=\"input mb-3\" cols=\"30\" rows=\"10\"></textarea>\n    <div class=\"flex items-center justify-end gap-x-1\">\n      <button @click=\"$router.push({ name: 'HomePage' })\" class=\"secondary-button\">İptal</button>\n      <button @click=\"onSave\" class=\"default-button\">Kaydet</button>\n    </div>\n  </div>\n</template>\n<script>\nimport { mapGetters } from \"vuex\";\nexport default {\n  data() {\n    return {\n      categoryList: [],\n      userData: {\n        title: null,\n        url: null,\n        categoryId: null,\n        description: null\n      }\n    };\n  },\n  mounted() {\n    this.$appAxios.get(\"/categories\").then(category_response => {\n      // console.log(category_response);\n      this.categoryList = category_response?.data || [];\n    });\n\n    // setTimeout(() => {\n    //   console.log(this.$refs.title);\n    // }, 100);\n\n    // this.$nextTick(() => {\n    //   console.log(this.$refs.title);\n    // })\n    // console.dir(this.$refs.title);\n    // this.$refs.title.focus();\n  },\n  methods: {\n    onSave() {\n      const saveData = {\n        ...this.userData,\n        userId: this._getCurrentUser?.id,\n        created_at: new Date()\n      };\n      this.$appAxios.post(\"/bookmarks\", saveData).then(save_bookmark_response => {\n        console.log(save_bookmark_response);\n        Object.keys(this.userData)?.forEach(field => (this.userData[field] = null));\n        const socketData = {\n          ...save_bookmark_response.data,\n          user: this._getCurrentUser,\n          category: this.categoryList?.find(c => c.id === saveData.categoryId)\n        };\n        this.$socket.emit(\"NEW_BOOKMARK_EVENT\", socketData);\n        this.$router.push({ name: \"HomePage\" });\n      });\n    }\n  },\n  computed: {\n    ...mapGetters([\"_getCurrentUser\"])\n  }\n};\n</script>\n"],"sourceRoot":""}]}